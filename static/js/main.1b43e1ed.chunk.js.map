{"version":3,"sources":["hooks/useLocalStorage.ts","styles/CardStyle.ts","components/Countdown/Countdown.tsx","components/Countdown/CountdownElement.tsx","components/Card/Card.tsx","components/Loader/Loader.tsx","api/defichain.ts","constants/common.ts","constants/rewardProportion.ts","utils/blockchain.ts","utils/common.ts","components/RewardDistribution/RewardDistribution.tsx","App.tsx","reportWebVitals.ts","styles/GlobalStyle.ts","serviceWorker.ts","index.tsx"],"names":["useLocalStorage","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","error","console","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","Error","cardStyles","css","StyledContent","styled","p","StyledLabel","StyledCountdown","div","Countdown","date","calculateTimeLeft","useCallback","difference","Date","timeLeft","days","Math","floor","hours","minutes","seconds","setTimeLeft","useEffect","interval","setInterval","clearInterval","CountdownElement","label","toUTCString","children","StyledContainer","StyledCard","StyledHeading","h2","Card","title","loading","keyframes","StyledLoader","StyledAnimation","Loader","BASE_ENDPOINT","getStats","a","fetch","response","status","json","CYCLE_BLOCK_LENGTH","INITIAL_CYCLE_BLOCK","TOTAL_REWARD_INITIAL_CYCLE","MINING_REWARD","COMMUNITY_FUND","ANCHOR_REWARD","DEX_LIQUIDTY_MINING","ATOMIC_SWAP_INCENTIVES","FUTURES_INCENTIVES","OPTIONS_INCENTIVES","UNALLOCATED_INCENTIVES","getReductionBlock","currentBlock","getCurrentCycle","getRemainingBlocks","block","getAverageBlockTime","valueOf","getTime","getReductionDate","remainingTime","reductionDate","cycleNumber","cycleStart","getCurrentTotalRewards","cycle","toPercentage","toFixed","round","num","decimalPlaces","Number","StyledTable","table","StyledTableHeader","thead","StyledTableBody","tbody","StyledTableFooter","tfoot","RewardDistribution","totalRewards","StyledApp","StyledVerticalContainer","StyledHorizontalContainer","h1","App","setCurrentBlock","isLoading","setIsLoading","AVERAGE_BLOCK_TIME","TOTAL_REWARDS","loadData","stats","data","count","blocks","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","GlobalStyle","createGlobalStyle","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","headers","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1b43e1ed.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nfunction useLocalStorage(key: string, initialValue: any) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value: any) => {\n    try {\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","import styled, { css } from 'styled-components';\n\nexport const cardStyles = css`\n  background-color: var(--clr-secondary);\n  border-radius: var(--br-card);\n  padding: 2em 2.5em;\n  box-shadow: var(--card-box-shadow);\n  \n  @media (max-width: 330px) {\n    padding: 0.8em 1em;\n  }\n`;\n\nexport const StyledContent = styled.p`\n  font-size: 2rem;\n  font-weight: bold;\n  margin: 0;\n  \n  @media (max-width: 380px) {\n    font-size: 1.5rem;\n  }\n`;\n\nexport const StyledLabel = styled.p`\n  color: var(--clr-label);\n  text-transform: uppercase;\n  margin: 1em 0 0 0;\n  \n  @media (max-width: 380px) {\n    font-size: 0.7rem;\n  }\n  \n  @media (max-width: 310px) {\n    font-size: 0.5rem;\n  }\n`;","import { useCallback, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { cardStyles } from \"../../styles/CardStyle\";\nimport { CountdownElement } from \"./index\";\n\ninterface Props {\n  date: Date;\n}\n\nconst StyledCountdown = styled.div`\n  ${cardStyles};\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n`;\n\nexport default function Countdown({ date }: Props) {\n  const calculateTimeLeft = useCallback(() => {\n    const difference = +date - +new Date();\n    let timeLeft = {};\n    if (difference > 0) {\n      timeLeft = {\n        days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n        minutes: Math.floor((difference / 1000 / 60) % 60),\n        seconds: Math.floor((difference / 1000) % 60),\n      };\n    }\n    return timeLeft;\n  }, [date]);\n\n  const [timeLeft, setTimeLeft] = useState<any>(calculateTimeLeft());\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTimeLeft(calculateTimeLeft());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [calculateTimeLeft]);\n\n  return (\n    <>\n      <StyledCountdown>\n        <CountdownElement label=\"days\">{timeLeft.days}</CountdownElement>\n        <CountdownElement label=\"hours\">{timeLeft.hours}</CountdownElement>\n        <CountdownElement label=\"minutes\">{timeLeft.minutes}</CountdownElement>\n        <CountdownElement label=\"seconds\">{timeLeft.seconds}</CountdownElement>\n      </StyledCountdown>\n      <p>Reward-Drop ETA date: {date.toUTCString()}</p>\n    </>\n  );\n}\n","import React from 'react';\nimport { StyledContent, StyledLabel } from '../../styles/CardStyle';\n\ninterface Props {\n  children: number;\n  label: string;\n}\n\nexport default function CountdownElement({ children, label }: Props) {\n  return (\n    <div>\n      <StyledContent>{ children }</StyledContent>\n      <StyledLabel>{ label }</StyledLabel>\n    </div>\n  );\n}","import React from \"react\";\nimport styled from \"styled-components\";\nimport { cardStyles, StyledContent, StyledLabel } from \"../../styles/CardStyle\";\n\ninterface Props {\n  title: string;\n  children: string | JSX.Element;\n  label?: string;\n}\n\nconst StyledContainer = styled.div`\n  width: 100%;\n`;\n\nconst StyledCard = styled.div`\n  ${cardStyles};\n`;\n\nconst StyledHeading = styled.h2`\n  font-size: 1.1rem;\n`;\n\nexport default function Card({ title, children, label }: Props): JSX.Element {\n  return (\n    <StyledContainer>\n      <StyledHeading>{title}</StyledHeading>\n      <StyledCard>\n        {typeof children === \"string\" ? (\n          <StyledContent>{children}</StyledContent>\n        ) : (\n          children\n        )}\n        {label && <StyledLabel>{label}</StyledLabel>}\n      </StyledCard>\n    </StyledContainer>\n  );\n}\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst loading = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst StyledLoader = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-item: center;\n  justify-content: center;\n  \n  @media (max-width: 830px) {\n    margin-top: -20em;\n    height: 100vh;\n  }\n`;\n\nconst StyledAnimation = styled.div`\n  transition: all .25s ease;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:after {\n    content: '';\n    position: absolute;\n    border-radius: 50%;\n    border: var(--anm-border) solid var(--clr-text);\n    width: var(--anm-size);\n    height: var(--anm-size);\n    border-left: var(--anm-border) solid transparent;\n    border-bottom: var(--anm-border) solid transparent;\n    animation: ${loading} var(--anm-time) ease infinite;\n    z-index: 2;\n  }\n  \n  &:before {\n    z-index: 1;\n    content: '';\n    position: absolute;\n    border-radius: 50%;\n    border: var(--anm-border) dashed var(--clr-text);\n    width: var(--anm-size);\n    height: var(--anm-size);\n    border-left: var(--anm-border) solid transparent;\n    border-bottom: var(--anm-border) solid transparent;\n    animation: ${loading} var(--anm-time) linear infinite;\n  }\n`;\n\nexport default function Loader() {\n  return (\n    <StyledLoader>\n      <StyledAnimation/>\n    </StyledLoader>\n  );\n}","const BASE_ENDPOINT = \"https://ocean.defichain.com/v0.9/mainnet\";\n\nexport async function getStats() {\n  const response = await fetch(`${BASE_ENDPOINT}/stats`);\n  if (response.status === 200) {\n    return response.json();\n  } else {\n    throw new Error(`An error occurred fetching data: ${response}`);\n  }\n}\n","export const CYCLE_BLOCK_LENGTH = 32690;\nexport const INITIAL_CYCLE_BLOCK = 894000;\nexport const INITIAL_CYCLE_BLOCK_UTC = \"2021-06-03T15:24:22.0Z\";\nexport const TOTAL_REWARD_INITIAL_CYCLE = 405.04;\nexport const REWARD_DECREASE_RATE = 0.98342;\nexport const DFI_DECIMAL_PLACES = 4;\n","import { TOTAL_REWARD_INITIAL_CYCLE } from \".\";\n\nexport const MINING_REWARD = 135 / TOTAL_REWARD_INITIAL_CYCLE;\nexport const COMMUNITY_FUND = 19.9 / TOTAL_REWARD_INITIAL_CYCLE;\nexport const ANCHOR_REWARD = 0.1 / TOTAL_REWARD_INITIAL_CYCLE;\nexport const DEX_LIQUIDTY_MINING = 103.1 / TOTAL_REWARD_INITIAL_CYCLE;\nexport const ATOMIC_SWAP_INCENTIVES = 50 / TOTAL_REWARD_INITIAL_CYCLE;\nexport const FUTURES_INCENTIVES = 50 / TOTAL_REWARD_INITIAL_CYCLE;\nexport const OPTIONS_INCENTIVES = 40 / TOTAL_REWARD_INITIAL_CYCLE;\nexport const UNALLOCATED_INCENTIVES = 6.94 / TOTAL_REWARD_INITIAL_CYCLE;\n","import {\n  CYCLE_BLOCK_LENGTH,\n  INITIAL_CYCLE_BLOCK,\n  INITIAL_CYCLE_BLOCK_UTC,\n  REWARD_DECREASE_RATE,\n  TOTAL_REWARD_INITIAL_CYCLE,\n} from \"../constants\";\n\nexport const getReductionBlock = (currentBlock: number) => {\n  return (\n    INITIAL_CYCLE_BLOCK +\n    (getCurrentCycle(currentBlock) + 1) * CYCLE_BLOCK_LENGTH\n  );\n};\n\nexport const getRemainingBlocks = (block: number) => {\n  return getReductionBlock(block) - block;\n};\n\nexport const getAverageBlockTime = (block: number) => {\n  const now = new Date().valueOf();\n  const secondsSinceInitialCycleBlock =\n    (now - new Date(INITIAL_CYCLE_BLOCK_UTC).getTime()) / 1000;\n  return secondsSinceInitialCycleBlock / (block - INITIAL_CYCLE_BLOCK);\n};\n\nexport const getReductionDate = (currentBlock: number) => {\n  const remainingTime =\n    getRemainingBlocks(currentBlock) * getAverageBlockTime(currentBlock);\n  const reductionDate = new Date();\n  return new Date(reductionDate.getTime() + 1000 * remainingTime);\n};\n\nexport const getCurrentCycle = (currentBlock: number) => {\n  let cycleNumber = 1;\n  let cycleStart = INITIAL_CYCLE_BLOCK;\n\n  while (cycleStart < currentBlock) {\n    cycleNumber++;\n    cycleStart = INITIAL_CYCLE_BLOCK + cycleNumber * CYCLE_BLOCK_LENGTH;\n  }\n\n  return cycleNumber - 1;\n};\n\nexport const getCurrentTotalRewards = (currentBlock: number) => {\n  const cycle = getCurrentCycle(currentBlock);\n  return TOTAL_REWARD_INITIAL_CYCLE * REWARD_DECREASE_RATE ** cycle;\n};\n","export function toPercentage(value: number): string {\n  return `${(value * 100).toFixed(2)}%`;\n}\n\nexport function round(num: number, decimalPlaces = 2): number {\n  return Number(num.toFixed(decimalPlaces));\n}\n","import { Card } from \"../Card\";\nimport styled from \"styled-components\";\nimport { round, toPercentage } from \"../../utils\";\nimport {\n  ANCHOR_REWARD,\n  ATOMIC_SWAP_INCENTIVES,\n  COMMUNITY_FUND,\n  DEX_LIQUIDTY_MINING,\n  DFI_DECIMAL_PLACES,\n  FUTURES_INCENTIVES,\n  MINING_REWARD,\n  OPTIONS_INCENTIVES,\n  UNALLOCATED_INCENTIVES,\n} from \"../../constants\";\n\nconst StyledTable = styled.table`\n  margin: auto;\n`;\n\nconst StyledTableHeader = styled.thead`\n  th {\n    padding-right: 24px;\n  }\n`;\n\nconst StyledTableBody = styled.tbody`\n  text-align: left;\n\n  td {\n    padding: 4px 20px 8px 0;\n  }\n`;\n\nconst StyledTableFooter = styled.tfoot`\n  font-weight: bold;\n  text-align: left;\n`;\n\ninterface Props {\n  totalRewards: number;\n}\n\nexport default function RewardDistribution({ totalRewards }: Props) {\n  return (\n    <Card title=\"Current Reward Distribution:\">\n      <StyledTable>\n        <StyledTableHeader>\n          <tr>\n            <th>Area</th>\n            <th>DFI / Block</th>\n            <th>Proportion</th>\n          </tr>\n        </StyledTableHeader>\n        <StyledTableBody>\n          <tr>\n            <td>Mining Reward</td>\n            <td>{round(totalRewards * MINING_REWARD, DFI_DECIMAL_PLACES)}</td>\n            <td>{toPercentage(MINING_REWARD)}</td>\n          </tr>\n          <tr>\n            <td>Community Fund</td>\n            <td>{round(totalRewards * COMMUNITY_FUND, DFI_DECIMAL_PLACES)}</td>\n            <td>{toPercentage(COMMUNITY_FUND)}</td>\n          </tr>\n          <tr>\n            <td>Anchor Reward</td>\n            <td>{round(totalRewards * ANCHOR_REWARD, DFI_DECIMAL_PLACES)}</td>\n            <td>{toPercentage(ANCHOR_REWARD)}</td>\n          </tr>\n          <tr>\n            <td>DEX Liquidity Mining</td>\n            <td>\n              {round(totalRewards * DEX_LIQUIDTY_MINING, DFI_DECIMAL_PLACES)}\n            </td>\n            <td>{toPercentage(DEX_LIQUIDTY_MINING)}</td>\n          </tr>\n          <tr>\n            <td>Atomic Swap Incentives</td>\n            <td>\n              {round(totalRewards * ATOMIC_SWAP_INCENTIVES, DFI_DECIMAL_PLACES)}\n            </td>\n            <td>{toPercentage(ATOMIC_SWAP_INCENTIVES)}</td>\n          </tr>\n          <tr>\n            <td>Futures Incentives</td>\n            <td>\n              {round(totalRewards * FUTURES_INCENTIVES, DFI_DECIMAL_PLACES)}\n            </td>\n            <td>{toPercentage(FUTURES_INCENTIVES)}</td>\n          </tr>\n          <tr>\n            <td>Options Incentives</td>\n            <td>\n              {round(totalRewards * OPTIONS_INCENTIVES, DFI_DECIMAL_PLACES)}\n            </td>\n            <td>{toPercentage(OPTIONS_INCENTIVES)}</td>\n          </tr>\n          <tr>\n            <td>Unallocated Incentives</td>\n            <td>\n              {round(totalRewards * UNALLOCATED_INCENTIVES, DFI_DECIMAL_PLACES)}\n            </td>\n            <td>{toPercentage(UNALLOCATED_INCENTIVES)}</td>\n          </tr>\n        </StyledTableBody>\n        <StyledTableFooter>\n          <tr>\n            <td>TOTAL</td>\n            <td>{round(totalRewards, DFI_DECIMAL_PLACES)}</td>\n            <td>100%</td>\n          </tr>\n        </StyledTableFooter>\n      </StyledTable>\n    </Card>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport useLocalStorage from \"./hooks/useLocalStorage\";\nimport { Countdown } from \"./components/Countdown\";\nimport { Card } from \"./components/Card\";\nimport { Loader } from \"./components/Loader\";\nimport { getStats } from \"./api/defichain\";\nimport {\n  getAverageBlockTime,\n  getReductionDate,\n  getRemainingBlocks,\n  getReductionBlock,\n  getCurrentTotalRewards,\n  round,\n} from \"./utils\";\nimport { RewardDistribution } from \"./components/RewardDistribution\";\nimport { CYCLE_BLOCK_LENGTH, DFI_DECIMAL_PLACES } from \"./constants\";\n\nconst StyledApp = styled.div`\n  color: var(--clr-text);\n  height: 100%;\n  top: 0;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  max-width: 800px;\n  margin: 0 auto;\n\n  @media (max-width: 830px) {\n    margin: 8em 0;\n    padding: 0 8%;\n  }\n\n  @media (max-width: 600px) {\n    padding: 40px;\n  }\n\n  @media (max-width: 440px) {\n    padding: 20px;\n    margin: 8em 0;\n  }\n`;\n\nconst StyledVerticalContainer = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  width: 100%;\n  grid-gap: 2em;\n\n  @media (max-width: 700px) {\n    grid-template-columns: 1fr;\n    padding-bottom: 3em;\n  }\n`;\n\nconst StyledHorizontalContainer = styled.div`\n  display: grid;\n  grid-template-rows: 1fr 1fr;\n  grid-gap: 2em;\n  height: 100%;\n`;\n\nconst StyledHeading = styled.h1`\n  margin: 0 0 1em 0;\n  font-size: 2.3rem;\n`;\n\nexport default function App() {\n  const [currentBlock, setCurrentBlock] = useLocalStorage(\"currentBlock\", 0);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const AVERAGE_BLOCK_TIME = getAverageBlockTime(currentBlock);\n  const TOTAL_REWARDS = getCurrentTotalRewards(currentBlock);\n\n  useEffect(() => {\n    const loadData = async () => {\n      const stats = await getStats();\n      setCurrentBlock(stats.data.count.blocks);\n      setIsLoading(false);\n    };\n\n    loadData();\n\n    const interval = setInterval(() => {\n      loadData();\n    }, AVERAGE_BLOCK_TIME * 1000);\n    return () => clearInterval(interval);\n  }, [setCurrentBlock, AVERAGE_BLOCK_TIME]);\n\n  return (\n    <StyledApp>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <StyledHeading>DeFiChain Block Reward Countdown</StyledHeading>\n          <p>\n            Block reward will decrease from{\" \"}\n            {round(TOTAL_REWARDS, DFI_DECIMAL_PLACES)} to{\" \"}\n            {round(\n              getCurrentTotalRewards(currentBlock + CYCLE_BLOCK_LENGTH),\n              DFI_DECIMAL_PLACES\n            )}{\" \"}\n            DFI in approximately\n          </p>\n\n          <Countdown date={getReductionDate(currentBlock)} />\n\n          <StyledVerticalContainer>\n            <StyledHorizontalContainer>\n              <Card\n                title=\"Blocks Remaining:\"\n                label={`until ${getReductionBlock(currentBlock)}`}\n              >\n                {`${getRemainingBlocks(currentBlock)}`}\n              </Card>\n              <Card title=\"Average Block Time:\" label=\"seconds\">\n                {`${round(AVERAGE_BLOCK_TIME, 4)}`}\n              </Card>\n            </StyledHorizontalContainer>\n            <RewardDistribution totalRewards={TOTAL_REWARDS} />\n          </StyledVerticalContainer>\n        </>\n      )}\n    </StyledApp>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  :root {\n    --clr-accent: #AD09D7;\n    --clr-primary: #F4F3F6;\n    --clr-secondary: #FFFFFF;\n    --clr-text: #363636;\n    --clr-label: #9C9C9C;\n\n    --br-card: 20px;\n    --br-button: 4px;\n    \n    --card-box-shadow: 0 8px 16px 0 rgb(0 0 0 / 4%);\n    --card-border: 1px solid rgba(0, 0, 0, .2);\n    --hover-transition: 0.2s ease;\n\n    --anm-size: 50px;\n    --anm-border: 4px;\n    --anm-time: 1.3s;\n  }\n  \n  * {\n    box-sizing: border-box;\n    font-family: \"IBM Plex Sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif,\n      \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  }\n  \n  html,\n  body {\n    margin: 0;\n    paddding: 0;\n  }\n  \n  html,\n  body,\n  #root {\n    height: 100%;\n    background-color: var(--clr-primary);\n  }\n`;","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config?: any) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config: any) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config: any) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { GlobalStyle } from './styles/GlobalStyle';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyle/>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\nserviceWorker.register();\n"],"sourceRoot":""}